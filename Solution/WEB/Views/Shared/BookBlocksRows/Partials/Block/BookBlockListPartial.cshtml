@model CommonPortable.Models.ProductModels.BookBlockPLVM
@{
	MvcHtmlString paging = Html.Partial("PagingPartials/PagingPartial", Model.Paging);
	string divId = string.Format("paging-{0}", Model.Paging.ActualPageNumber);
}

<h2>@ViewBag.siteTitle <span class="small-gray-number">(@Model.Paging.NumberOfProducts)</span></h2>

@if (Model.Products.Count == 0 && ViewBag.EmptyMessage != null)
{
	@ViewBag.EmptyMessage
}

@paging

<div class="block-of-paged-books">
	<div id="@divId" class="book-blocks books-paged">
		@foreach (var p in Model.Products)
		{
			Html.RenderPartial("BookBlocksRows/Partials/Block/BookBlockPartial", p);
		}
	</div>
</div>
	
@paging
